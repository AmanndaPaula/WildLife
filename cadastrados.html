<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">

        <title>Cadastrado com Sucesso!</title>
        <meta content="" name="description">
        <meta content="" name="keywords">
        <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

      <!-- Favicons -->
   <link href="assets/img/logo.png" rel="icon">
   <link href="assets/img/logo.png" rel="apple-touch-icon">

        <!-- Google Fonts -->
        <link
            href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
            rel="stylesheet">

        <!-- Vendor CSS Files -->
        <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
        <link href="assets/vendor/aos/aos.css" rel="stylesheet">
        <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
        <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
        <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
        <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

        <!-- Template Main CSS File -->
        <link href="assets/css/style.css" rel="stylesheet">


    </head>

    <body>
            <!-- ======= Header ======= -->
            <header id="header" class="fixed-top">
                <div class="container d-flex align-items-center">
                    <!-- Logo -->
                    <h1 class="logo me-auto">
                        <a href="index.html">Wild<br>Life</a>
                    </h1>
                    <!-- Menu -->
                    <nav id="navbar" class="navbar order-last order-lg-0">
                        <ul>
                            <li><a class="active" href="index.html">Inicio</a></li>
                            <li><a id="infoAnimaisLink" href="infoAnimais.html">Informações Animais</a></li>
                            <li><a href="dashboard.html">Dashboard</a></li>
                            <li><a id="rankingLink" href="Rank.html">Ranking</a></li>
                            <li><a id="sobreNosLink" href="sobreNos.html">Sobre</a></li>
                        </ul>
                        <i class="bi bi-list mobile-nav-toggle"></i>
                    </nav>
                </div>
            </header>
            <!-- End Header -->


            <main id="main">
                <div class="login-container text-align-center">
                
                <!-- Informações coletadas do cadastro dos animais -->
                <main id="main">
                    <div class="login-container text-align-center">
                        <br><br><br>
                        <h1>Informações Gerais</h1><br>
                     <div class="info-section">
                 <div id="photoContainer"></div><br>

                            <p><strong>Doc. Identificação:</strong> <span id="spandocIdentificacao"></span></p>
                            <p><strong> Data e Hora:</strong> <span id="spanDatetimeLocal"></span></p>
                            <p><strong>Responsável pela Entrega:</strong> <span id="spanresponsavelEntrega"></span></p>
                            <p><strong>Tipo de Entrega:</strong> <span id="spantipoEntrega"></span></p>
                            <p><strong>Nome:</strong><span id="spanNome"></span></p>
                            <p><strong>Nome Científico:</strong> <span id="spanCientifico"></span></p>
                            <p><strong>Sexo:</strong><span id="spanSexo"></span></p>
                            <p><strong>Local Encontrado:</strong> <span id="spanEncontrado"></span></p>
                            <p><strong>Local do Cativeiro:</strong> <span id="spanCativeiro"></span></p>
                            <p><strong>Tempo de Cativeiro:</strong><span id="spanTempoCativeiro"></span></p>
                            <p><strong>Estado de Saúde:</strong> <span id="spanEstadoSaude"></span></p>
                            <p><strong>Entregue Por:</strong><span id="spanEntreguePor"></span></p>
                            <p><strong>Recebido Por:</strong><span id="spanRecebidoPor"></span></p>

                                <!-- Redireciona para pagina de cadastro -->
                            <a href="cadastroanimal2.html" download class="get-started-btn download-button">Cadastrar Outro Animal</a><br><br>
                                <!-- Botão de download da pagina em PDF -->
                            <button id="btGerarPDF" onclick="gerarPDF()">Baixar PDF</button>


                            
            <!-- Vendor JS Files -->
            <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
            <script src="assets/vendor/aos/aos.js"></script>
            <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
            <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
            <script src="assets/vendor/php-email-form/validate.js"></script>

            <!-- Template Main JS File -->
            <script src="assets/js/main.js"></script>
        </div>
    </div>
</main>
            <script>

                // Recuperar a imagem do localStorage
        var animalPhoto = localStorage.getItem("animalPhoto");

                // Exibir a imagem na página
            if (animalPhoto) {
         var img = document.createElement("img");
              img.src = animalPhoto;
              img.style.maxWidth = "100%";
              img.style.borderRadius = "10px"; 
              document.getElementById("photoContainer").appendChild(img);
}

         // Recuperar as informações do localStorage 
         
        var docIdentificacaoSalvo = localStorage.getItem("docIdentificacao");
        var datetimeLocalSalvo = localStorage.getItem("datetimeLocal");
        var responsavelEntregaSalvo= localStorage.getItem("responsavelEntrega");
        var tipoEntregaSalvo = localStorage.getItem("tipoEntrega");
        var nomeSalvo = localStorage.getItem("nome");
        var cientificoSalvo = localStorage.getItem("cientifico");
        var sexoSalvo = localStorage.getItem("sexo");
        var encontradoSalvo = localStorage.getItem("encontrado");
        var cativeiroSalvo = localStorage.getItem("cativeiro");
        var tempoCativeiroSalvo = localStorage.getItem("tempoCativeiro");
        var estadoSaudeSalvo = localStorage.getItem("estadoSaude");
        var entreguePorSalvo= localStorage.getItem("entreguePor");
        var recebidoPorSalvo= localStorage.getItem("recebidoPor");
     
        // Exibir as informações na página
         
        document.getElementById("spandocIdentificacao").innerText = docIdentificacaoSalvo;
        document.getElementById("spanDatetimeLocal").innerText = datetimeLocalSalvo;
        document.getElementById("spanresponsavelEntrega").innerText = responsavelEntregaSalvo;
        document.getElementById("spantipoEntrega").innerText = tipoEntregaSalvo;
        document.getElementById("spanNome").innerText = nomeSalvo;
        document.getElementById("spanCientifico").innerText = cientificoSalvo;
        document.getElementById("spanSexo").innerText = sexoSalvo;
        document.getElementById("spanEncontrado").innerText = encontradoSalvo;
        document.getElementById("spanCativeiro").innerText = cativeiroSalvo;
        document.getElementById("spanTempoCativeiro").innerText = tempoCativeiroSalvo;
        document.getElementById("spanEstadoSaude").innerText = estadoSaudeSalvo;
        document.getElementById("spanEntreguePor").innerText = entreguePorSalvo;
        document.getElementById("spanRecebidoPor").innerText = recebidoPorSalvo;
              
        
        // função para baixar a pagina em formato de PDF.
         
        var doc = new jsPDF();
var specialElementHandlers = {
    '#editor': function (element, renderer) {
        return true;
    }
};


function gerarPDF() {
    var element = document.getElementById("main");
    html2pdf(element).then(function (pdf) {
        var a = document.createElement("a");
        a.href = pdf.output('bloburl');
        a.download = 'exemplo-pdf.pdf';
        
        a.click();
    });
}
        // Formatação do PDF, esconder o botão de cadastrar animal e o de download.
function gerarPDF() {
    var element = document.getElementById("main");

    // Adiciona uma classe temporária para os botões que não quero que saia no pdf.
    document.getElementById("btGerarPDF").style.display = "none";
    document.querySelector(".download-button").style.display = "none";

    html2pdf(element).then(function (pdf) {
        // Restaura a visibilidade dos botões após o download do PDF
        document.getElementById("btGerarPDF").style.display = "block";
        document.querySelector(".download-button").style.display = "block";

        var a = document.createElement("a"); // Cria um novo elemento de âncora
        a.href = pdf.output('bloburl'); // Define o atributo do elemento de âncora com a URL do PDF gerado.
        a.download = 'exemplo-pdf.pdf'; // Define o atributo download do elemento de âncora com o nome do arquivo que será utilizado quando o usuário baixar o arquivo.
        a.click(); // Simula um clique no elemento de âncora, o que inicia o processo de download do arquivo associado à URL.
    });
}
            </script>
            
            <style>
                body {
                    font-family: Arial, sans-serif;
                    background-color: green;
                    margin: 0;
                    padding: 0;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    min-height: 100vh;
                    direction: ltr;
                    margin-right: 20px;
                }
        
                .login-container {
                    background-color: #fff;
                    padding: 8px;
                    border-radius: 20px;
                    box-shadow: 0 20px 20px rgba(0, 0, 0, 0.1);
                    width: 300px;
                    text-align: center;
                    flex-direction: column;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    margin: 20px auto;
                }
        
                h1 {
                    color: #000000;
                    margin-top: 0;
                }
        
                @media (min-width: 768px) {
                    .login-container {
                        width: 500px;
                    }
                }
            </style>
    </body>
</html>